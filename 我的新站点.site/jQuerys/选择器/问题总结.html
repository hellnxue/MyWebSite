<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<title>无标题文档</title>

<style type="text/css">
  
   
/*  \A 表示换行  ？？？？？*/ 
/* textarea::-webkit-input-placeholder:after{   
   display:block;   
   content:"line@ \A hello  sir  line#"; 
   color:red;   
 };
 */

 div.testMy h2{
  cursor: pointer;
  background-color: pink;
 }

 button{
  display: block;
 }

</style>

<script type="text/javascript" src="../../js/jquery-1.8.2.min.js"></script>
<script type="text/javascript">
function test1(){
  var num=10;
  var num1=10.09;
  var n1=num.toFixed(2);//toFixed(n) 指定数值后跟几位小数,会四舍五入
  var n2=num.toFixed(1);
  var n3=num1.toFixed(1);
  console.log("toFixed2="+typeof(num));
   console.log("toFixed1="+n2)
    console.log("toFixed3="+n3)
	
	
 
   
}
function test2(){
  var aa="hello world";
  var a1=aa[1];
  var a2=aa.charAt(1);
  var a3=aa.charCodeAt(1);
  var a4=aa.concat("!");
  console.log("aa[1]="+a1);//字符串类型可以直接像数组一样根据索引取字符
   console.log("aa.charAt(1)="+a2);//输出指定位置的字符
	console.log("aa.charCodeAt(1)="+a3);//输出指定字符的字符编码
	  console.log("aa.concat(\"!\")="+a4);//拼接字符，跟+号类作用一样
	  
	  console.log($("#pp").css("display"));
}
function test3(){
  console.log("random="+Math.random());
  
  var n=Math.floor(Math.random()*10+1);//取1-10之间的随机的一个数字
   console.log("取1到10的随机值="+n);
    var nn=Math.floor(Math.random()*9+2);//取2-10之间的随机的一个数字
   console.log("取2到10的随机值="+nn);
   
   var numbers=getDistrictnum(10,3);
   console.log("取得区间中的随机值="+numbers);
   
   var colors=["red","blue","black","white","pinck"];
   var color=colors[getDistrictnum(colors.length-1,0)];
   console.log("随机取得的数组值="+color);
}
//获得指定区间的随机一个值
function getDistrictnum(uppervalue,lowervalue){
   var total=uppervalue-lowervalue+1;
   var number=Math.floor(Math.random()*total+lowervalue);
   return number;
}
function test4(){
  console.log(Number("0"));//100
 console.log(Number("100.00"));//100
 console.log(Number("02.20"))//2.2 会忽略前导的0
 console.log(parseFloat("02.20"));//2.2  会忽略前导的0
 console.log(parseInt("02.20"));//2
 console.log(Number("0.20"));//0.2
 console.log(Number("020"));//20   会忽略前导的0
 console.log(parseInt("070"));//70
 
 console.log(parseInt("10",2));
 console.log(parseInt("0101",10));
 var number=Number("");//0 Number()可以将任意类型转换成数字
 var pInt=parseInt("");//NaN
 var pFloat=parseFloat("");//NaN
 $("#nift").html("Number(\"\"):"+number+"\n   parseInt(\"\"):"+pInt+"\n   parseFloat(\"\"):"+pFloat);
/*console.log("1000">2000);
 console.log(parseInt(10.01));
  var s=10.00+10.00;
  console.log(s);
  console.log(parseFloat("10.00"));
  console.log(parseFloat(10.00));
   console.log(parseFloat(10.01));
   
	console.log(parseFloat("1000")*parseFloat("0.44"));
	console.log(parseFloat(""));
	console.log(312+190.92);// 502.91999999999996*/
	
	var indMoney=parseFloat("2858")*parseFloat(0.08);//缴纳金额(元)	个人
	console.log(indMoney.toFixed(2));
}
function test5(){
  var i=1.6;
  var j=i.toFixed(0);//2 书上所说的IE8不能舍入的范围没测出来哎
  console.log("j:"+j);
  
  var z=100;
  var s=z.toExponential(1);//1.0e+2 参数代表要显示的小数位数
  console.log(s);
}
function test6(){
  var nu=99;
  console.log("toPrecision(1)="+nu.toPrecision(1));
  console.log("toPrecision(2)="+nu.toPrecision(2));
  console.log("toPrecision(3)="+nu.toPrecision(3))
}


function testMe(){
var n=$("#me").attr("style");
console.log(n);

  var t="52.800000000000004px";
$("#me").css("width",100+"px");

var flag="";

var s=flag?true:false;
console.log(s);




}

function testTrigger(){
  $("#my h2").eq(1).trigger("click");

}

//给选择器绑定事件的时候为什么不能用这种变量的方式呢？这种变量绑定没效果哎？？？？？
var $selectors= $("#my h2");
$(function(){
  $("#my h2").on("click",function(){

      console.log($(this).next().find("span").html());
  })

});

function removeEvent(){

  $("#my h2").off("click");//or $("#my h2").off();

}


function argumentsCallee(){
   console.log("hello arguments");
   arguments.callee();

}



function lastIndexOfTest(){

  var str="广东省|河源市|和平县|上海市浦东新区峨山路91弄58号B区4";
  var lastIndex=str.lastIndexOf("|");
  var subStrs=str.substring(lastIndex+1);
  var startStr=str.substring(0,lastIndex);
  // var repStr=startStr.replace(new RegExp("|","gm"),"0");
   var repStr=startStr.replace( new RegExp("\\|","g") ," ");
  console.log(subStrs);
  console.log(startStr);
   console.log(repStr);
}

function oth(){

  var dm=$("#oth")[0];
  console.log(dm.offsetHeight);
}


function substrs(){

  var str="hello world";
  var a=str.substr(str.length-4);
  console.log(a);
}

//判断某些值是否在数组中
function arryTests(){
  var ary=[{a:0,n:"1"},{a:2,n:"1"},{a:1,n:"1"},{a:3,n:"1"}];
  var flag=ary.some(function(item,index){
    return item.a==2||item.a==3;
  });

  console.log(flag);
}

/*ES6中是哪一个来着？？？*/
function defaultTests(){

  var str1="hello";
  var str2="";
  var obj={};

  var rlt1=str1?str1:"post";
  var rlt2=str2?str2:"post";

  var rlt3=obj.name?"小新":"obj.name为空时的默认值！";
  console.log(rlt1);
   console.log(rlt2);
    console.log(rlt3);


  
}


function unknow(){

  var temp=$(".unknow");
  temp.css("color","red");

   console.log(typeof temp);//object
    console.log(temp[0]);//undefined
  console.log(temp.html());//undefined
}


function varTemp(){
  var $sel=$(".tempsel");
  console.log($sel);
   console.log($(".tempsel"));

   console.log($(".hhhh").val());//选择一个没有的元素取val会得到undefined,且是undefined类型奥
    console.log( $(".hhhh").html());//undefined
}

function removeCSS(){
     //赋值为别的值也不可以，必须是空，好用，但靠谱性有待考究
     $(".cssTest").css("background-color","");
      
       
      console.log(0.00==0);

      if(0.00){
        console.log(123);
      }
}


// 测试构造函数与普通函数中this指向

var age=5;

function Person(){
  this.age=0,
 

  this.sayAge=function(){
     console.log(this.age);//this指向构造函数Person创建的对象
  };

   /*setInterval(function() {
    // 在非严格模式下，growUp() 函数定义了其内部的 `this`
    // 为全局对象, 不同于构造函数Person()的定义的 `this`
    this.age++; 
    console.log(this.age);//值为6，之后递增，此处的this在new Person()时调用，指向的是window对象
  }, 1000);
   
   


  */

  setInterval(()=> {
    
    this.age++; 
    console.log(this.age);//值为1,之后一直递增 此处的this指向的是Person对象的this
  }, 1000);
}

 
 

function Obj(){

  var p=new Person();
  //p.sayAge()

  // var str=new String("");
  // var obj=new Object();
  // console.log(typeof str);//Object
  // console.log(typeof "");//String

  // console.log(Boolean(str));
  // console.log(Boolean(""));
  // // console.log(Boolean(obj));//true


  // var bObj=new Boolean(true);
  // console.log(typeof true);

  // var num=10;
  // console.log(num.toExponential(2));//1.00e+1

  // console.log("hello"[4]);//o

}


// 箭头函数中没有arguments对象
function foo(){

  var f=()=>arguments[0];//100
 /* 
  //1
  function f(){
    return arguments[0];
  }*/
  return f(1);
  
}

function arrow(){
   
   console.log(foo(100,200))

}

function node(th){
  console.log(th.nodeName);//INPUT

}


//HTML5的data属性或者jQuery的data()方法可以设置任意类型的数据，对象和数组也可以哒
function dataTestss(){

  // var dataType=$("p[data-value]")[0].dataset.value;
  //dtdTest

  var dataType=document.getElementById("dtdTest").dataset.value;

    var domData=document.getElementById("dtdTest");

  /*  
  //js里设置值和获取值得时候,原生的DOM方法与Jquery方法不能混用
    $("p[data-value]").data("value",3000);
    domData.dataset.value=1000;
    dataType=domData.dataset.value;
    console.log(dataType); //1000

    */

   console.log(dataType); [1,2,3];
   $("p[data-value]").data("value",['a','b','c']);//data方法可以放入任意类型的值奥
   dataType= $("p[data-value]").data("value");//['a','b','c']
   console.log(dataType); 

   
}


/*
  用jQuery的map工具方法遍历数组并返回新的对象数组
    "name":"余额提现",
    "date":"20170330180451",
    "money":"25.00"
*/
function handelMap(){

  var detail_list="充值^20170330174917^+^445.00^1589.00|充值^20170330174827^+^144.00^1144.00|充值^20170330161856^+^1000.00^1000.00";
   var resultAry=detail_list.split("|");
           
   var ary=$.map(resultAry,function(item,index){
   var orderAry=item.split("^");
     
   var obj={
         name:orderAry[0],
         date:orderAry[1],
         money:orderAry[3]
     }
     
     return obj;
     
   });

   console.log(JSON.stringify(ary));//[{"name":"充值","date":"20170330174917","money":"445.00"},{"name":"充值","date":"20170330174827","money":"144.00"},{"name":"充值","date":"20170330161856","money":"1000.00"}]

}


function ObjTestDef(){

    var data={
      name:"helln",
      getName:function(){
        //return data.name; /*还可以这么用啊，直接在定义对象的里面调用对象的属性*/
        return this.name;
      }
    }

    console.log(data.getName());
}


function ullu(){
     $("#ullu li").each(function(index,ele){
         var $this= $(this);
        
         alert($this.html());
         return false;
        
    });
}



//计时器



function timer(elm,wait){


  var calee= arguments.callee;
  
  if (wait==0) {
    
    elm.onclick=timerTest;
    $(elm).html('重获验证码');
    wait=5;

  }else{
   
    elm.onclick=null;
    $(elm).html(wait+'秒');
    $(elm).addClass(".tests");
    wait--;
    
    setTimeout(function(){
        calee(elm,wait);
      },1000);
  }

 
}







function timerTest(){

    var wait1=5;
    var wait2=6;

    timer($("#timer")[0],wait1);
    timer($("#timer1")[0],wait2);
     

}

//获取查询字符串
 function lSearch(){
    var qs=(location.search.length>0?location.search.substring(1):""),
      args={},
      items=qs.length?ql.split("&"):[],
      item=null
      value=null,
      i=0,
      len=items.length;

      for ( i = 0; i <len; i++) {
         item=items.split("=");
         name=item[0];
         value=item[1];
         if (name.length) {
          args[name]=value;
         }
      }

      return args;
    }

</script>
</head>

<body>
<div id="pp" style="display:block">hello</div>
<input type="button" value="测试Number" onClick="test1()"/></br>
<input type="button" value="测试String" onClick="test2()"/></br>
<input type="button" value="测试Number2" onClick="test3()"/></br>
<input type="button" value="数字测试" onClick="test4()"/></br>
<input type="button" value="toExponential()" onClick="test5()"/></br>
<input type="button" value="toPrecision()" onClick="test6()"/></br>
<h3>input:</h3><div id="nift"></div>

<h3>----------获取style属性---------------</h3>
<p style="background-color: pink;" id="me">hello</p>
<input type="button" value="获取style属性" onClick="testMe()"/></br>


<h3>----------在程序中触发点击事件---------------</h3>
<input type="button" value="在程序中触发点击事件" onClick="testTrigger()"/></br>


<h3>----------点击测试---------------</h3>
<div id="my" class="testMy">
  <h2>hello 1</h2>
  <h2>hello 2</h2>
  <h2>hello 3
    <span>hla</span>
    <span>hg</span>
  </h2>

</div>

<h3>--------------------事件移除---------------</h3>
<input type="button" value="移除事件" onClick="removeEvent()"/></br>

<h3>-------------------placeholder换行？？？---------------</h3>
<input type="text" name="hello" class="ph" placeholder=" hello world" title="hello world" style="height: 100px;">

<textarea placeholder="第1行  \n 第2行 <br> 第3行 \A 第4行 
第5行"  class="ph" ></textarea>


<h3>--------------------arguments.callee---------------</h3>
<input type="button" value="arguments.callee" onClick="argumentsCallee()"/></br>

<h3>--------------------截取最后一根"|"---------------</h3>
<input type="button" value="arguments.callee" onClick="lastIndexOfTest()"/></br>

<h3>--------------------获取offsetHeight---------------</h3>
<div style="width: 200px;height: 200px;background-color: yellow;margin: 0 auto" id="oth">hello</div>
<input type="button" value="获取offsetHeight" onClick="oth()"/></br>


<h3>--------------------截取任意后四位---------------</h3>
 
<input type="button" value="截取任意后四位" onClick="substrs()"/></br>

<h3>--------------------判断某些值是否在数组中---------------</h3>
 
<input type="button" value="判断某些值是否在数组中" onClick="arryTests()"/></br>


<h3>--------------------默认值判断---------------</h3>
 
<input type="button" value="默认值判断" onClick="defaultTests()"/></br>


<h3>--------------------jQuery选择一个不存在的元素时---------------</h3>
 
<input type="button" value="jQuery选择一个不存在的元素时" onClick="unknow()"/></br>


<h3>--------------------jQuery选择器给一个变量---------------</h3>
 
 <div class="tempsel">hello world</div>
<input type="button" value="jQuery选择器给一个变量" onClick="varTemp()"/></br>


<h3>--------------------jQuery删除css属性---------------</h3>
 
 <div class="cssTest" style="background-color: yellow;color: pink;">hello remove css</div> 
<input type="button" value="点击删除元素的background-color属性" onClick="removeCSS()"/></br>

<h3>--------------------this---------------</h3>
 <input type="button" value="this" onClick="Obj()"/></br>

 <input type="button" value="箭头函数不绑定参数arguments" onClick="arrow()"/></br>

<input type="button" value="DOM节点名称nodeName" onClick="node(this)"/></br>


 
<a >hello world</a>



<h3>--------------------data---------------</h3>
<p data-value="[1,2,3]" id="dtdTest">hello data</p>
<button type="button" onclick="dataTestss();">data属性测试</button>



<h3>--------------------用jQuery的map工具方法遍历数组并返回新的数组---------------</h3>
 
<button type="button" onclick="handelMap();">$.map()</button>


<h3>--------------------对象---------------</h3>
 
<button type="button" onclick="ObjTestDef();">对象用法测试</button>


<h3>-------------------用 return false 终止each循环---------------</h3>
<ul id="ullu">
  <li>1</li>
  <li>2</li>
</ul>
<button type="button" onclick="ullu();">对象用法测试</button>

 <h3>-------------------超时调用的计时器---------------</h3>
 <button type="button" onclick="timerTest(this);" id="timer">获取验证码</button>
  <button type="button"  " id="timer1">获取验证码</button>

  <h3>-------------------对象的属性名称是区分大小写的---------------</h3>
 <button type="button" onclick="objProtoType();" id="data1" >用data()设置不同类型的值</button>

 <h3>-------------------变量声明时---------------</h3>
 <button type="button" onclick="variablesm();" id="data1" >用data()设置不同类型的值</button>


  <!-- 1、用jQuery可以设置下拉列表选中某一项（注：select标签里没有value这个特性） 
   例如：$(".selector").val("pxx");  -->
  <select   id="sysType"   value="ios">
    <option value="all">all</option>
    <option value="ios">ios</option>
    <option value="android">android</option>
  </select>
 <button type="button" onclick="sysTypeTest();" id="data1" >给select赋值</button>

 <h3>-------------------给一组复选框赋值---------------</h3>
 <input name="pro" value="单期贷" type="checkbox"  > 单期贷
 <input name="pro" value="闪电贷" type="checkbox"  > 闪电贷
 <button type="button" onclick="ckb();" id="data1" >复选框筛选赋值</button>


 <h3>----------------获取元素样式---Window.getComputedStyle()---------------</h3>
 <div style="margin: 0 30%;height: 50px;background: pink;border: 1px solid yellow;" onclick="getComputedStyleTest(this)">hello</div>


 <h3>获取查询字符串location.search</h3>
 <button type="button" onclick="lSearch">测试</button>

 <h3>对象的key为数字的情况---添加带有数字的对象属性</h3>
 <button type="button" onclick="numberKey();">测试</button>

 <h3>localSotrage的存取</h3>
 <button type="button" onclick="lstg();">测试</button>

 <h3>----------------模拟进行中的不间断的省略号----------------------</h3>
 <h3 class="load">查询中 <i></i></h3>
 <button type="button" onclick="loading();">启动进行中模式</button>
 <button type="button" onclick="stop();">进行中</button>


 <h3>----------------数组可以添加属性吗----------------------</h3>
<button type="button" onclick="ArrayObjTest()">Array</button>
 
<script type="text/javascript">
  var tim=0,
  i=1;

  function loading(){
    stop();
   tim=setInterval(function(){
      $('.load i').append('。');
      if (i%6==0) {
         $('.load i').html('')
      }
      i++;
    },500)
 
  }

  function stop(){
     clearInterval(tim);
  }
  

    function objProtoType(){
       var obj={Name:'hello'};
       console.log(obj.name);//undefined
       console.log(obj.Name);//hello

      
    }
   function variablesm(){
       var a=10,b=a+10;
       console.log(b)
    }

  function sysTypeTest(){
    // var x=$("#sysType").val("android");//jQuery动态给select赋值，单独写在select上 value="android"是不起作用的
    // console.log(x);

    $("#sysType option:first").prop("selected", "selected");
  }

  function ckb(){
      $(":checkbox[name='pro']").filter("input[value='闪电贷']").prop('checked', 'checked');
  }


  function getComputedStyleTest(elm){
    var CSSStyleDeclaration =window.getComputedStyle(elm,null);
    // var temp=CSSStyleDeclaration.getPropertyValue("height");
    var cssText=elm.currentStyle["height"];
    // alert(temp);
    alert(cssText);
  }


  function numberKey() {
      var obj={
        1:'hello',
        2:'world'
      }

      obj['name'+1]='hello world';

      console.log(obj[1]);//'hello'
      console.log(obj['name1'])//'hello world'
  }

  function lstg(){
    localStorage.setItem('name','helln');
    var rel=localStorage.getItem('name')
    var p=JSON.parse(rel);
    console.log(rel)
     console.log(p)
  }



  function ArrayObjTest(){
    var ary=[1,2,3];
    ary.item='hello world';
    console.log(ary.item)//hello world  ??数组可以添加属性？？好奇怪
  }

</script>
</body>
</html>