<!DOCTYPE html>
<html>
<head>
<meta charset="gb2312" />
<title>无标题文档</title>
 

<style>
  .wrap{
  width:300px;
  height:300px;
  margin:10px auto;
  padding:5px 2px 2px 5px;
/*  line-height:300px;*/
  background-color:#eee;
  text-align:center;
  }
</style>
<script type="text/javascript" src="../../js/jquery-1.8.2.min.js"></script>
  

</head>

<body>
<div  >

<a href="javascript:void(0);">draggable</a>
<span>draggable.......</span>
<input type="button" value="draggable" draggable="true"/>
</div>

<div draggable="true" id="org">draggable</div>
<div id="imgTarget" class="wrap">
	<img src="../../image/mxx/m1.jpg" id="draggableImg" />
	<p id="draggableP" draggable="true" style="background-color:#FFFFCC;">hello,萌小希</p>

</div>

<div class="wrap" id="dragTarget">
  放置区域
  
</div>

 <p>我是来打酱油的</p>
        <p>我是来打酱油的</p>
        <p>我是来打酱油的</p>
        <p>我是来打酱油的</p>
        <p>我是来打酱油的</p>
        <p>我是来打酱油的</p>
        <p>我是来打酱油的</p>
        <p>我是来打酱油的</p>

<script>

   //被拖动元素拖动时的触发事件
   var dgbDOM=$("#draggableImg")[0];
   dgbDOM.addEventListener("dragstart",function(ev){
      
	 ev.dataTransfer.setData("Text",ev.target.id);
 
   });
   
    var pDOM=$("#draggableP")[0];
   pDOM.addEventListener("dragstart",function(ev){
      
	 ev.dataTransfer.setData("Text",ev.target.id);
	  ev.dataTransfer.setData("url","url url");
	 
   });
   
     
	/*-----------被拖动元素的放置目标事件设置------------------------------*/
	
	
	
	var dtDOM=$("#dragTarget")[0];
	
	//dragenter事件，在把被拖动元素放置到放置目标上就会触发dragenter事件
	/* dtDOM.addEventListener("dragenter",function(event){
	   
	   event.preventDefault();
	   event.dataTransfer.dropEffect="copy";
	  console.log( event.dataTransfer.dropEffect);
	}); */
	
	/*被拖动元素还在放置目标内移动时，会触发dragover事件*/
	dtDOM.addEventListener("dragover",function(event){
	  //console.log(123);
	  event.preventDefault();
	  event.stopPropagation();
	});
	
	 
    /*如果元素被放到了放置目标中，会触发drop事件*/
	dtDOM.addEventListener("drop",function(event){
	   event.preventDefault();
	   var data=event.dataTransfer.getData("Text");
	   event.target.appendChild($("#"+data)[0]);
	   
	     var datas=event.dataTransfer.getData("url");
	  console.log(datas);
	  event.stopPropagation();
	});
	
	
	/*被拖走的图片可以再拖回到原来的div中奥*/
	var itDOM=$("#imgTarget")[0];
	itDOM.addEventListener("dragover",function(e){
	   e.preventDefault();
	   e.stopPropagation();
	});
	
	itDOM.addEventListener("drop",function(e){
	  e.preventDefault();
	  var data=e.dataTransfer.getData("TEXT");
	  $( e.target).append($("#"+data).clone() );//复制
	 e.stopPropagation();
	
	});
	
</script>
 
</body>
</html>
