<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>ÎÞ±êÌâÎÄµµ</title>
<script type="text/javascript" src="../../js/jquery-1.8.2.min.js"></script>
<script type="text/javascript">


   var isTrue=false;
    //ÑéÖ¤¹«¹²º¯Êý 
	function validatorUtil(id,errMsg){
		
		if(arguments.length==2){
			$(id).after("<label id=\"errInfo\" style=\"color:#f60\">"+errMsg+"£¡<label>");
			isTrue=true;
			return false;
			
		}else{
			$(id).after("");
			isTrue=true;
		}
		
		
	}
	
var regIntPattern=/^[0-9]*[1-9][0-9]*$/;

$(function(){
	  $("#reg1").on("click",function(){
		   
		  var pt1=/[bc]at/i;
		  console.log("pt1=="+pt1.test("ca1t,bast,tat"));
		  
		  
		  
		  
		  var pt2=/.{4}/;
		  var str1="201507";//Æ¥Åä2015
		  console.log(pt2.test(str1));
		  console.log(str1.replace(pt2,"a"));//a07
		   
		  //²âÊÔ²¶»ñ×é
		  var str2=str1.replace(/(.{2})/g, '$1-');
		  var str3=str1.replace(/(.{3})/g, '$1-');
		  var str4=str1.replace(/(.{4})/g, '$1-');
		  var str5=str1.replace(/(.{4})(.{2})/g, '$2-');
		  var str6=str1.replace(/(.{5})(.{2})/g, '$2-');
		  console.log("str1=="+str1);
		  console.log("str2=="+str2);
		  console.log("str3=="+str3);
		  console.log("str4=="+str4);
		  console.log("str5=="+str5);//07-£¨°´Ë³Ðò²¶»ñ£¬(.{4})Æ¥ÅäÁË2015£¬Ê£ÏÂµÄ(.{2})È¥Æ¥Åä07£©
		  console.log("str6=="+str6);//201507£¨(.{5})Æ¥Åä20150£¬Ê£ÏÂµÄ7ÓÃ(.{2})²¶»ñ×éÈ¥Æ¥ÅäÊ±£¬²»¹»Êý£¬Òò´Ë'$2-'´ú±íÒ»¸ö¿ÕÖµ£¬¼´²»Æ¥Åä£©
		  
		  console.log("kkkkk="+$("#hihi")[0]);
		  if($("#hihi").val()){
		      console.log("llllllllllllllllllllllllllll");
		  }
	});



	 $("#intFloat").on("keyup",function(){
	    
		var regInt=/^[0-9]*[1-9][0-9]*$/;//ÕýÕûÊýÕýÔò   ÊäÈë0²»ÔÚÕûÊý·¶Î§ÄÚ°¥
		var regFloat=/^\d{1,}\.{0,1}\d{1,}$/;//¸¡µãÕýÔò
		var js=$("#intFloat").val();
		
		 var hjs=parseFloat(js);
		 var ijs=parseInt(js);
		 var fmin=parseFloat(this.dataset.min);
		 var fmax=parseFloat(this.dataset.max);
		 
		 var imin=parseFloat(this.dataset.min);
		 var imax=parseFloat(this.dataset.max);
		
		var id="#intFloat";
		
		if(js==""){
			
		   validatorUtil(id,"ÇëÌîÐ´»ùÊý");
			   
		}else if( regInt.test(js)){
			console.log("int");
 			if(ijs<imin||ijs>imax){
				 
				validatorUtil(id,"»ùÊý·¶Î§"+fmin+"~"+fmax);
				
			}else{
				
				validatorUtil(id);
			}
			
		}else if(regFloat.test(js)){
			console.log("float");
			 if(hjs<fmin||hjs>fmax){
				
				validatorUtil(id,"»ùÊý·¶Î§"+fmin+"~"+fmax);
				
			}else{
				
				validatorUtil(id);
			}
				 
			
		}else if(!regInt.test(js)&&!regFloat.test(js)){
			console.log("not int , not float");
			 
			
		}else{
			
			validatorUtil(id);
			
		}
		 
	});



	 /*Ö»ÄÜÊäÈëÕýÕûÊýµÄÇé¿ö£¬Ö»ÊäÈë0¶¼²»ÐÐ°¥*/

	$('input[data-money="fix"]').on("blur",function(){
		var $value=$(this).val();
		if( $value!=""){
			$(this).val($value.replace(/Ôª/g,"")+"Ôª");
		}
		
	}).on("keyup",function(){
		
		var $value=$(this).val();
		var nbm=Number($value);
		
		if(isNaN(nbm)){
			$(this).val("");
		}else if(!regIntPattern.test(nbm)){
			$(this).val("");
		}else if($value.indexOf(".")!=-1){
			$(this).val("");
		}
    	
    });
});

/*ÓÃÕýÔò½øÐÐ·Ö¸î*/
function regExpSplit(){

   var pattern=/[^\,]/;//ÒÔ²»ÊÇ,µÄÃ¿¸ö×ÖÄ¸½øÐÐ·Ö¸î£¬³ýÁË¶ººÅ£¬×ÖÄ¸¶¼ÊÇ·Ö¸ô·û  ÕýÔòÄ£Ê½Ò²¿ÉÒÔÓÃ/[^,]/ ²»ÖªµÀÎªÉ¶Òª¼ÓÉÏ¸ö\  ¶ººÅÓÖ²»ÐèÒª½øÐÐ×ªÒå......
   var colorText="red,blue,green,yellow";
   var colors=colorText.split(pattern);//===,====,=====,======
   $("#split").html(colors.join("="));
   console.log(colors.length);//19
   console.log(pattern.test(colorText));//true
}

function regTest(th){
  
  var reg=/<.*?>/g;//¼ÓÉÏ?ºóÊÇ·ÇÌ°À·Ä£Ê½£¬¿ÉÒÔÆ¥Åä<h1>ºÍ</h1>  ²»¼Ó?ÊÇÌ°À·Ä£Ê½£¬»áÆ¥ÅäËùÓÐµÄ´øÓÐ<>µÄ×Ö·û´®
  var str="<h1>hello world</h1>";
  var rlt=str.replace(reg,"A");//Ahello worldA
  console.log(rlt);
  
  /*ÎªÊ²Ã´ºÍÊéÉÏËµµÄ½á¹û²»Ò»ÑùÄØ? ÕýÔò×ÖÃæÁ¿ÓëÕýÔòÊµÀýÊÇ²»Ò»ÑùµÄ£¬ÕýÔò×ÖÃæÁ¿ÊÇ¹²ÏíµÄ£¬¶øÊµÀýÃ¿´Î¶¼²»Í¬£¬bug....ÏÂÃæµÄÑ­»·È´¶¼ÊÇtrue*/
  var str="catastrcathe";
  var re=null;
  for(var i=0;i<5;i++){
      re=/cat/g;
	   console.log( re.lastIndex);
      console.log(re.test("catastroate"));//¶¼ÊÇtrue°¥
	   console.log( re.lastIndex);
	// console.log(str.replace(re,"A"));
  }
  console.log("-----------------------------------------------------------");
  for(var i=0;i<5;i++){
     re=new RegExp("cat","g");
	  console.log( re.lastIndex);
     console.log(re.test("catastrophe"));
	   console.log( re.lastIndex);
  }
  
  
}

/*ÕýÔòµÄexec()·½·¨£¬·µ»ØÊý×éµÄµÚÒ»¸öÔªËØÎªÆ¥ÅäµÄ×Ó×Ö·û´®£¬µÚ¶þ¸öÎª²¶»ñ×éµÄ½á¹û£¬Ò²¾ÍÊÇ()ÀïÆ¥ÅäµÄÒ»¸öÕûÌå£¬Èç¹û()Àï²»ÊÇ¼òµ¥µÄ×Ö·û£¬ÊÇÔª×Ö·û£¬»¹Òª¸ù¾Ý¾ßÌåµÄÕýÔò¹æÔòÈ·¶¨¸ÃÔªËØ£¬ result1[1]µÄ½á¹ûÊÇo£¬ÊÇÕýÔò(\w)+\bÆ¥ÅäµÄ½á¹û*/
function regTest1(th){
  var testString = 'Hello World',
	reg1 = /\b(\w)+\b/;

  var result1 = reg1.exec(testString);
  var first=result1[0];//hello
  var second=result1[1];//o  
  
  console.log(result1);//[hello, o]
  console.log(reg1.lastIndex); //0
  console.log(result1.index); //0 

    
  
}

function regTest2(th){
  var testString = 'Hello World',
	reg = /\b(\w)+\b/g;
  var myAry;
  while((myAry=reg.exec(testString))!=null){
	   console.log(myAry); 
	   console.log(reg.lastIndex);  
	   console.log(myAry.index); 
  }

    
  
}
</script>
</head>

<body>
<input type="button" id="reg1" value="²âÊÔ±êÖ¾"/><br />
<p>¸¡µãÐÍºÍÕûÐÍÕýÔò</p>

<input type="text" id="intFloat" data-min="1000" data-max="2000"/><br />

<p>----------------------------------------------²âÊÔÓÃÕýÔò×÷ÎªsplitµÄ·½·¨²ÎÊý----------------------------------------</p>
<span id="split"></span>
<br />

<input type="button" id="intFloat"  value="²âÊÔÓÃÕýÔò·Ö¸î" onclick="regExpSplit()"/><br />


<input type="button"    value="ÕýÔòÆ¥Åä²âÊÔ"   onclick="regTest(this)"/><br />


<input type="button"    value="Ä£Ê½Æ¥Åä·½·¨exec()£¬·ÇÈ«¾ÖµÄ"   onclick="regTest1(this)"/><br />

 
 <input type="button"    value="Ä£Ê½Æ¥Åä·½·¨exec()£¬È«¾ÖµÄ"   onclick="regTest2(this)"/>

 <p>---------------------------Ö»ÄÜÊäÈëÕýÕûÊýµÄÇé¿ö£¬Ö»ÊäÈë0¶¼²»ÐÐ°¥-------------------------------------</p>
  <input type="text" class="form-control ph-color" id="monSalary" placeholder="ÇëÊäÈëÄúµÄÔÂÊÕÈë" data-money="fix" autocomplete="off"/>
 
</body>
</html>
