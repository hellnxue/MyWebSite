<!doctype html>
<html class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Amaze UI Examples</title>

  <!-- Set render engine for 360 browser -->
  <meta name="renderer" content="webkit">

  <!-- No Baidu Siteapp-->
  <meta http-equiv="Cache-Control" content="no-siteapp"/>

  <link rel="icon" type="image/png" href="assets/i/favicon.png">

  <!-- Add to homescreen for Chrome on Android -->
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="icon" sizes="192x192" href="assets/i/app-icon72x72@2x.png">

  <!-- Add to homescreen for Safari on iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Amaze UI"/>
  <link rel="apple-touch-icon-precomposed" href="assets/i/app-icon72x72@2x.png">

  <!-- Tile icon for Win8 (144x144 + tile color) -->
  <meta name="msapplication-TileImage" content="assets/i/app-icon72x72@2x.png">
  <meta name="msapplication-TileColor" content="#0e90d2">

  <!-- SEO: If your mobile URL is different from the desktop URL, add a canonical link to the desktop page https://developers.google.com/webmasters/smartphone-sites/feature-phones -->
  <!--
  <link rel="canonical" href="http://www.example.com/">
  -->

  <link rel="stylesheet" href="assets/css/amazeui.min.css">
  <link rel="stylesheet" href="assets/css/app.css">
</head>
<body>
<!--[if lte IE 9]>
<p class="browsehappy">你正在使用<strong>过时</strong>的浏览器，Amaze UI 暂不支持。 请 <a
  href="http://browsehappy.com/" target="_blank">升级浏览器</a>
  以获得更好的体验！</p>
<![endif]-->

<!-- 页面内容 开发时删除 -->
<form action="" class="am-form" id="doc-vld-msg">
 <!--11qq11qq   -->
  <fieldset>
    <legend>显示验证提示信息</legend>
    <div class="am-form-group">
      <label  >用户名：</label>
      <input type="text" id="hello" pattern="^[a-zA-Z0-9]+\d*$"   minlength="6" maxlength="18" placeholder="输入错误" data-validation-message="输入少了啦" required/> 
    </div>
	 <div class="am-form-group">
      <label  >原始密码：</label>
	  <!--这个正则有些欠缺,输入11aa11aa验证不通过-->
      <input type="text" id="password" pattern="^\d*[a-zA-Z]+\d*$" minlength="6" maxlength="18"   placeholder="英文与数字组合，不能全是数字" data-validation-message="原始密码输入不正确" required/> 
    </div>
	 <div class="am-form-group">
      <label  >密码：</label>
	    <!--perfect  缺,输入11aa11aa验证通过-->
      <input type="text" id="newPwd"  pattern="^\d*[a-zA-Z]+[a-zA-Z0-9]*$" minlength="6" maxlength="18" placeholder="英文与数字组合，不能全是数字码" data-validation-message="6到18位英文与数字的组合,不能全是数字！"  required/> 
    </div> 
	<div class="am-form-group">
      <label  >确认密码：</label>
      <input type="text"   data-equal-to="#newPwd"   placeholder="输入确认密码" data-validation-message="两次密码输入不一致！" required/> 
    </div>
    <div class="am-form-group">
      <label for="doc-vld-email-2-1">邮箱：</label>
      <input type="email"   data-validation-message="自定义提示信息：输入地球上的电子邮箱撒" placeholder="输入邮箱"  class="linkMobile" required/>
    </div>
    <div class="am-form-group">
      <label  >没有开始和结束正则：</label>
      <input type="text"   pattern="\d[a-zA-Z]"      data-validation-message="输入错误" /> 
    </div>
   <div class="am-form-group">
      <label  >有开始和结束的正则：</label>
      <input type="text"   pattern="^\d[a-zA-Z]$"      data-validation-message="输入错误" /> 
    </div>
   <div class="am-form-group">
      <label  >英文与数字：</label>
      <input type="text"   pattern="^[a-zA-Z]+[0-9]*$" maxlength="18" minlength="6"      data-validation-message="输入错误" /> 
    </div>
    <button class="am-btn am-btn-secondary" type="submit" id="oksub">提交</button>
  </fieldset>
</form>
<!-- 以上页面内容 开发时删除 -->

<!--[if lt IE 9]>
<script src="http://libs.baidu.com/jquery/1.11.1/jquery.min.js"></script>
<script src="http://cdn.staticfile.org/modernizr/2.8.3/modernizr.js"></script>
<script src="assets/js/amazeui.ie8polyfill.min.js"></script>
<![endif]-->

<!--[if (gte IE 9)|!(IE)]><!-->
<script src="assets/js/jquery.min.js"></script>
<!--<![endif]-->
<script src="assets/js/amazeui.min.js"></script>
<script>
$(function() {

  /* $('#doc-vld-msg').validator({
    onValid: function(validity) {
      $(validity.field).closest('.am-form-group').find('.am-alert').hide();
    },

    onInValid: function(validity) {
      var $field = $(validity.field);
      var $group = $field.closest('.am-form-group');
      var $alert = $group.find('.am-alert');
      // 使用自定义的提示信息 或 插件内置的提示信息
      var msg = $field.data('validationMessage') || this.getValidationMessage(validity);

      if (!$alert.length) {
        $alert = $('<div class="am-alert am-alert-danger"></div>').hide().
          appendTo($group);
      }

      $alert.html(msg).show();
    }
  });*/


  $('#doc-vld-msg').validator({
  
       
	  // 验证出错时的回调， validity 对象包含相关信息，格式通 H5 表单元素的 validity 属性
	  onInValid: function(validity) {
	      console.log("验证不通过时");
	  
	       var $field=$(validity.field);
		   
		   //验证不通过时
			if(!validity.valid){
			 
			   $field.next("span").html("").remove();
			  
			   $field.parent(".am-form-group").append("<span style='color:red'>"+$field.data('validationMessage')+"</span>");
			}
	  
	  },
	  //验证通过时
	  onValid: function(validity) {
		 
		 $(validity.field).next("span").html("").remove();
		 
		},
		/*//自定义验证
		validate: function(validity) {
			// 在这里编写你的验证逻辑
			var $field=$(validity.field);
			
		 
			//console.log(validity.field.placeholder);  //html5自带验证
			//console.log($field.data('validationMessage'));//自定义提示
			 
			 //验证不通过时
			if(!validity.valid){
			 
			   $field.next("span").html("").remove();
			  
			   $field.parent(".am-form-group").append("<span style='color:red'>"+$field.data('validationMessage')+"</span>");
			}
			
			/*if(validity.field.id=="newPwd"&&/^[0-9]*$/.test(validity.field.value)){
			   console.log("k="+validity.field.value);
			   // $field.next("span").html("").remove();
			  
			   $field.parent(".am-form-group").append("<span style='color:red'>"+$field.data('validationMessage')+"</span>");
			}else{
			   $(validity.field).next("span").html("").remove();
			}*/
			
		//},
		 // 表单提交的时候验证
	   // validateOnSubmit: true,
	   
		// 表单提交时验证的忽略的域
		   // ignored elements
		   // @since 2.5
		//ignore: ':not(.linkMobile)',????????????????///
		patterns:{
		  //pwd:/[^0-9]/
		},
		submit:function(){
		 
		  if(!this.isFormValid()){//表单验证状态
		   
			return false;
		  }else{
			alert("success");
		    return false;//暂时设置为不提交
		  }
		  
		}
  });
  
 // $("#oksub").on("click",function(){
   //  alert(123);
  //});
});
</script>
</body>
</html>
