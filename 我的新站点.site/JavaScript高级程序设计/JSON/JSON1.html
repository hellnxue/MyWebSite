<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<script type="text/javascript" src="../../js/jquery-1.8.2.min.js"></script>
<script type="text/javascript">
function test1(){
   var obj={
		 name:"helln",
		 age:20
    };
   var objText=JSON.stringify(obj);//将javascript对象转成json，一般用于向服务器发送数据时传输json格式的数据
   console.log(objText);
   console.log(typeof objText);

}


function test11(){
    var obj={
		 name:"helln",
		 age:20
     };
   var objText=JSON.stringify(obj);//将javascript对象转成json，一般用于向服务器发送数据时传输json格式的数据
   
   //方法：用JSON.parse()
   var jsonObject=JSON.parse(objText);
   console.log(jsonObject);        //将json解析成javascript对象，以便可以很方便的操作对象数据
   console.log(typeof jsonObject);  
	
   //函数eval()具体是怎么用的呢？
   var json1={"name":"hell","age":10};
   console.log(eval("json1"));
}

//将json的字符串解析成json数据格式的两种方式
function test2(){
  
   console.log(eval("{}"));//undefined   ？？？？？？？？？？？？？
   console.log(eval("({})"));//object{}
  console.log(eval("({\"name\":1})"));
  
  var json='{"name":"CJ","age":18}';
  data =(new Function("","return "+json))(); //???????
  console.log(data)
}


function test3(){
    var obj={
	    "上海":["上海社保","上海公积金"],
		"北京":["北京社保","北京公积金"]
	};
	console.log(obj["上海"]);
	
	for(var i in obj){
	   console.log("key:"+i+"  value:"+obj[i]);
	}
	
}

function test4(){
  var objArray=[
  { city:{name:"上海",value:"shagnhai"},
    typeAry:[
	      {name:"上海社保",value:"shagnhaishebao"},
		  {name:"上海公积金",value:"sahgnhaigongjijin"}
		  ]
   },
  {city:{name:"北京",value:"beijing"},
   typeAry:[
        {name:"北京社保",value:"beijingshebao"},
		{name:"北京公积金",value:"beijinggongjijin"}
		]
  }];
}

function test5(){
  var ary=[
    {name:"a"},
	{name:"b"}
  ];
  
  var json=JSON.stringify(ary);
  console.log(json);
  
  
}
</script>
</head>

<body>
<input type="button"  name="d1" id="d1" value="将一个对象转换成json字符串" onclick="test1()"/></br>
<input type="button"  name="d1" id="d1" value="讲一个json字符串转换为对象" onclick="test11()"/></br>
<input type="button"  name="d1" id="d1" value="测试eval" onclick="test2()"/></br>

<input type="button"   id="d2" value="当key为数字或字符时的Object怎么获取key的值" onclick="test3()"/></br>

<input type="button"   id="d2" value="hehe" onclick="test4()"/></br>

<input type="button"    value="转json串" onclick="test5()"/></br>
</body>
</html>
