<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>String包装类型</title>
<style type="text/css">
  
   button{
    display: block;
   }
</style>
<script type="text/javascript" src="../../js/jquery-1.8.2.min.js"></script>
<script type="text/javascript">
function test1(){
  var aa="hello world";
  var bb=" hello world ";
    var cc="HELLO world";
 
  console.log("aa.substr(-3)="+aa.substr(-3));
  console.log("aa.substring(4,-3)="+aa.substring(4,-3));
  
  console.log(aa.length);
   console.log(bb.length);
   console.log(bb.trim().length);
   
     console.log("toLowerCase()="+cc.toLowerCase());
	  console.log("toUpperCase()="+cc.toUpperCase());
	  console.log("toLocaleLowerCase()="+cc.toLocaleLowerCase());
	   console.log("toLocaleUpperCase()="+cc.toLocaleUpperCase());
	   
	   var array=[1,2];
	   var ay=1;
	   console.log(Array.isArray(array));
	   console.log(Array.isArray(ay));
	 //  var x=undefined===null;
	   var x=undefined==null;
	   console.log("x="+x);
	 
	
	  if(Boolean(undefined)){
	     console.log("Boolean(undefined)="+Boolean(undefined));
	  }
	  
	  if(undefined){
	    console.log("if(undefined)");
	  }
	  
	  if(!undefined){
	    console.log("if(!undefined)");
	  }
   
	  if(!Boolean(undefined)){
	     console.log("if(!Boolean(undefined))="+!Boolean(undefined));
	  }
	  
	  console.log(Boolean(""));
}

function test2(){
  var aa="hello world";
  var a1=aa[1];
  var a2=aa.charAt(1);
  var a3=aa.charCodeAt(1);
  var a4=aa.concat("!");
  console.log("aa[1]="+a1);//字符串类型可以直接像数组一样根据索引取字符
   console.log("aa.charAt(1)="+a2);//输出指定位置的字符
	console.log("aa.charCodeAt(1)="+a3);//输出指定字符的字符编码
	  console.log("aa.concat(\"!\")="+a4);//拼接字符，跟+号类作用一样

}

function substring1(){
  var cname="hello world";
  var result=cname.substring(0,3);//substring取得两个指定下标之间的字符，第二个参数那个位置的字符截取不到的
  console.log("test substring=="+result);//hel
  
  var resultsub=cname.substr(0,3);//substr取得从start下标开始的指定长度的字符
  console.log("test substr=="+resultsub);//hel
  
  console.log(cname.substr(2));//llo world 单独一个参数代表从哪个位置开始截取后面所有的字符
  
  console.log("刘雪萍".substring(3));//从索引为3的位置截取到最后
}


//测试break 
function testbreak(){
  var num=0;
  
  for(var i=0;i<5;i++){
  
    for(var j=0;j<5;j++){
	
	  console.log("i===="+i);
	  
	  if(i==3){
	    break;// break是跳出它所在的当前循环，继续执行循环后的代码，如果它被多层循环包含，会继续执行外层循环
	  }
	  num++;
	}
	
  }
  
  console.log(num);//结果为20，当i为3时，用break跳出了里层的for循环（var=j的）,继续执行最外层循环，总共执行4次外层循环，每次外层循环都包含有5次内层循环，4*5=20
}

function testlablebreak(){
   var num=0;
  cases:
  for(var i=0;i<5;i++){
  
    for(var j=0;j<5;j++){
	
	  console.log("i===="+i);
	  
	  if(i==3){
	    break cases;//跳出有cases标记的那个for循环
	  }
	  num++;
	}
	
  }
  
  console.log(num);//15
  
  
}

 function test11(){
    var string="Java工程师面试题(三大框架SSH).txt";
	 
	var r=string.replace(string.substring(10,string.indexOf(".")-4),"...")
    console.log(r);
 }
 
 function test12(){
    var str="h.e.txt";
	console.log(str.indexOf("."));//1
	console.log(str.lastIndexOf("."));//3
	var obj={};
	obj.name="hello";
	console.log(typeof obj.age);
 }
 function splitTest(){
    var mystring = "google.com,baidu.com_weibo.com_haotu.net";
	var myarray = mystring.split(/[,_]/);
	console.log(myarray);
 }
 
 /*字符串的模式匹配方法*/
 function matchTest(){
  /* var text="cat,bat,sat,fat";
   var pattern=/.at/g;
   
   var matches=text.match(pattern);
    console.log(matches );// ["cat", "bat", "sat", "fat"]
   console.log(matches[0]);//cat
   console.log(matches.index);//0
   console.log(pattern.lastIndex);//0
   // console.log(matches.input);// "cat,bat,sat,fat"
	
   var matches1=pattern.exec(text);
   console.log(matches1);// ["cat"]
   
    matches1=pattern.exec(text);
   console.log(matches1);// [ "bat",]*/
   
   
   
   
   
   var testString = 'Hello World',
        reg1 = /\b(\w)+\b/g;
  
  var result1 = reg1.exec(testString);
  
  console.log(result1);//[hello, o]
  console.log(reg1.lastIndex); //0
  console.log(result1.index); //0 
  
 result1 = reg1.exec(testString);
  
  console.log(result1);//[hello, o]
  console.log(reg1.lastIndex); //0
  console.log(result1.index); //0 

    // var str="flip aa";
    // console.log(123);
    // console.log(str.match("flip"));
    // console.log(str.match("flips"));
    // console.log(str.match(/flip/));

    // console.log(str.search("flip"));

    var str="cat,bat,hat,fat";
    console.log(str.match(/f/));
 
 }

 /*用正则替换子字符串中所有匹配的项*/
 function replaceAllTest(){
     var str="hello world world";
     var a=str.replace("h","H");//只能替换第一个子字符
    // console.log(a);

     var temp="d";
     /*用正则RegExp类型可以传入变量，动态替换啦*/
     var b=str.replace(new RegExp(temp,'gm'),"D");
     console.log(b);
 }
 
 function substrs(){

  var str="hello world";
  var a=str.substr(str.length-4);
  console.log(a);//orld
}

function single(){
  var str="hello world";
  var s1=str[1];
  var s2=str.charAt(1);
  console.log(s1);//e
  console.log(s2);//e
}

function xsdTest(){
  // var str='100..00';
  var str='100..'
  var strAry=str.split('.');
  console.log(strAry.length)

  console.log(str.substr(0,Number(str.indexOf("."))+1))

  console.log( str.substr(0,Number(str.indexOf("."))+1)+"00")

}


//待测试，数字输入，保留小数点后两位
function numberCheck(e){

        var balanceInput= $(e.currentTarget);
        var balanceVal=balanceInput.val();
         
        balanceInput.val(balanceVal.replace(/[^1234567890.]+/g,''));

        if (balanceVal.indexOf(".")) {
          var temp=balanceVal.split(".");
          if (temp.length>2) {
            var hval=balanceVal.substr(0,Number(balanceVal.indexOf("."))+1);
            balanceInput.val(hval+'00');
            
          }if (balanceVal.split(".").length==2) {
            var temp1=temp[1].replace(/[^1234567890.]+/g,'');
            balanceInput.val(temp[0]+"."+(temp1.substr(0,2)));
          }

        }

      }

  function testIndexOf(){
    var str1="ABCDEF";
    console.log(str1.indexOf('a'))//-1
    
  }
</script>
</head>

<body style="width:">
<input type="button" value="测试1" onClick="test1()"/></br>
<input type="button" value="测试2" onClick="test2()"/></br>
<input type="button" value="截取substring()" onClick="substring1()"/></br>


<input type="button" value="跳出当前for循环-break" onClick="testbreak()"/></br>

<input type="button" value="跳出最外层循环-lable break" onClick="testlablebreak()"/></br>

<input type="button" value="长名字中间用点表示" onclick="test11()"/>
<p>--------------indexOf()取字符的位置是从前向后取，lastIndexOf()是从后向前取------------------------------</p>
<input type="button" value="lastIndexOf()方法测试" onclick="test12()"/>

<input type="button" value="split()根据多个字符进行分割" onclick="splitTest()"  style="display:block;"/>


<input type="button" value="字符串的模式匹配方法" onclick="matchTest()"  style="display:block;"/>

 <input type="button" value="替换方法replace的参数为变量时替换所有匹配的项" onclick="replaceAllTest()"  style="display:block;"/>

 <h3>--------------------截取任意后四位---------------</h3>
 
<input type="button" value="截取任意后四位" onClick="substrs()"/></br>
<input type="button" value="访问字符串中单个字符的方法" onClick="single()"/></br>

<button type="button" onclick="xsdTest()">小数点测试</button>

 <h3>--------------------'ABCDEF'.indexOf('a')方法是区分大小写的---------------</h3>
<button type="button" onclick="testIndexOf()">indexOf大小写区别</button>

</body>
</html>
