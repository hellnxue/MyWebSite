<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>无标题文档</title>
<script type="text/javascript" src="../../js/jquery-1.7.2.min.js"></script>
<script type="text/javascript">
 
//定义一个对象
   var arrData={
      "主设备1":{
	           "分设备1":"配件11,配件12",
			   "分设备2":"配件13,配件14"
					   
		      },
        "主设备2":{
	           "分设备21":"配件21,配件22",
			   "分设备22":"配件23,配件24"
					   
		      }
   };
   
   $(function(){
      //初始化下拉列表
	  $.each(arrData,function(key,value){
	     $("#e1").append("<option>"+key+"</option>")
	  	 
	  });
	   
	  
	  $("#e1").change(function(){
	      $.each(arrData,function(key,value){
		   if($("#e1 option:selected").text()==key){
		         $("#e2").html("<option>请选择</option>");
				  $("#e3").html("<option>请选择</option>");
				$.each(value,function(k,v){
		          $("#e2").append("<option>"+k+"</option>");
		      
		        });
		     }
			$("#e2").change(function(){
	      
				  $.each(value,function(k,v){
					  if($("#e2 option:selected").text()==k){
						  $("#e3").html("<option>请选择</option>");
						  $.each(v.split(","),function(){
							   $("#e3").append("<option>"+this+"</option>");
				  
						   });
						}
				  });
	          });	
	  	   }); 
	  });
	  
	 /* $("#e2").change(function(){
	       $.each(arrData,function(key,value){
		      $.each(value,function(k,v){
		          if($("#e2 option:selected").text()==k){
		              $("#e3").html("<option>请选择</option>");
				      $.each(v.split(","),function(){
		                   $("#e3").append("<option>"+this+"</option>");
		      
		               });
		            }
		          
		       });
		   
	    
	  	   });
	  });*/	
	  
	  
	  
   })
  
  
</script>
</head>

<body>
<input type="button" id="tbtn" value="测试弹框" /><br/>
<div class="dialog" style="background-color:pink;border:dotted;display:none">
  <input type="button" value="确定" id="yes" />
 </div> 
<br/>
设备级联
<select id="e1"><option>请选择</option></select>
<select id="e2"><option>请选择</option></select>
<select id="e3"><option>请选择</option></select>

<hr/><br/>



</body>
</html>
