<!--
 * @Description: 
 * @Author: lxp
 * @Date: 2021-06-25 11:10:35
 * @LastEditTime: 2021-06-30 17:39:51
 * @LastEditors: lxp
-->
 
<!DOCTYPE html  >
<html >
<head>
<meta  charset="utf-8" />
<title>链表</title>
<style>
  h3{ 
   	font-size: 30px;
	color: pink;

	}
   
</style>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></head>

<body>
 
<script>       
    function defaultEquals(a,b){
        return a===b
    }
    class Node { 
        constructor(element) { 
            this.element = element; 
            this.next = undefined; 
        } 
    }

    class LinkedList{
        constructor(equalsFn=defaultEquals){
            this.head=undefined
            this.count=0
            this.equalsFn=equalsFn
        }

        insert(element){
            const node=new Node(element)
            let current;
            if(this.head==null){
                this.head=node
            }else{
                current=this.head
                while(current.next!=null){
                    current=current.next
                }
                current.next=node
            }
            this.count++
        }

        removeAt(index){
            if(index>=0&&index<this.count){
                let current=this.head 
                if(index===0){
                    this.head=current.next
                }else{
                    let previous=this.getElementAt(index-1);
                    current=previous.next
                    previous.next=current.next
                }
                this.count--
                return current.element
            }
            return undefined
        }

        getElementAt(index){
            if(index>=0&&index<this.count){
                let current=this.head
                for(let i=0;i<index;i++){
                    current=current.next
                }
                return current
            }
            return undefined
        }

        insert(element,index){
            if(index>=0&&index<this.count){
                const node=new Node(element)
                if(index==0){
                    const current=this.head
                    node.next=current
                    this.head=node
                }else{
                    const previous=this.getElementAt(index-1)
                    const current=previous.next
                    node.next=current
                    previous.next=node
                }
                this.count++
                return true
            }
            return false
        }

        size(){
            return this.count
        }

        isEmpty(){
            return this.size()===0
        }
        toString(){
            if(this.head==null){
                return ''
            }
            let objString=`${this.head.element}`
            let current=this.head.next
            for(let i=1;i<this.size()&&current!=null;i++){
                objString=`${objString}${current.element}`
                current=current.next
            }
            return objString
        }
    }
   
   let linkedList=new LinkedList()
   linkedList.push(10)
   linkedList.push(15)
   linkedList.push(13)

   console.log(linkedList)

   linkedList.insert(100,3)
   console.log(linkedList.toString())


//    linkedList.removeAt(1)

//    console.log(linkedList)


</script> 
</body>
</html>
