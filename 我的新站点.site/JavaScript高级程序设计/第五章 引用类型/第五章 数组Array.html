<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>无标题文档</title>
<script type="text/javascript" src="../../js/jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="../pin.js"></script>
<script type="text/javascript">
/* 比较方法，降序*/
function campare1(v1,v2){
  if(v1>v2){
  	return -1;
  }else if(v1<v2){
    return 1;
  }else{
    return 0;
  }
}
/* 比较数值数组特用，升序*/
function campare2(v1,v2){
  return v1-v2;
}

 /*对象数组倒叙排序 */
function campare3(v1,v2){
  return Number(v2.date)-Number(v1.date);
}

 /*对象数组倒叙排序 */
function campare4(v1,v2){
  return Number(v2.date.replace(/-/,""))-Number(v1.date.replace(/-/,""));
}
$(function(){

var pinyin = codefans_net_CC2PY("刘雪萍").toUpperCase();
console.log("汉字转为拼音=="+pinyin);
console.log("Default User转为拼音=="+codefans_net_CC2PY("Default User").toUpperCase());
console.log(codefans_net_CC2PY("DEFAULT USER"));

console.log("Default User"==="Default User");

$("#ta1").on("click",function(){
     var colors=["red","black"];
	var cl= colors.push("blue");
	console.log(cl);
	console.log(colors);
	
	//取得最后添加的一项
	var lc=colors.pop();
	console.log(lc);
	console.log(colors);
  });
  
$("#ta2").on("click",function(){
     var colors=["red","black"];
	var cl= colors.push("blue");
	console.log(cl);
	console.log(colors);
	
	//取得第一项
	var lc=colors.shift();//获得最前端的一项并删除
	console.log(lc);
	console.log(colors);
	
	var lu=colors.unshift("pinck");//在最前端添加一项
	console.log(lu);
	console.log(colors);
	
	var ll=colors.pop();//获得最后一项并删除
	console.log(ll);
	console.log(colors);
	
  });
  $("#ta3").on("click",function(){
     var colors=[0,1,5,10,15];
	colors.sort();
	console.log(colors);
  });
  
   $("#ta4").on("click",function(){
     var colors=[0,1,10,15,5];
	colors.sort(campare1);
	console.log(colors);
	colors.sort(campare2);
	console.log(colors);
  });
  
   
    $("#ta5").on("click",function(){
	
	
	
     var name="蜡笔小新";
	 console.log(name.substr(1,1));
	 console.log(name.length);
	 var xx=subName1(name);
	 //console.log("hello"+xx.length);
	  //console.log("hello "+xx[2]);
	  console.log(xx);
	  
	   console.log( marry2());
	   
	  // x3()
	  
	  x4();
  });
  
  
    $("#ta6").on("click",function(){
	
	  $("#pp").append("<h2>hello world!</h2>").append("<span>helln</span>");;
	
    
  });
  
   $("#ta66").on("click",function(){
	
	  var x="hello worldddddddddddddddd".append("<span>helln</span>");
	  $("#ttt").append(x);
	
    
  });
  
  $("#ta7").on("click",function(){
	
	 //handleEnglish();
	//marry2();
	console.log(marry3());
    
  });
  
  $("#ta9").on("click",function(){
    $("#af").after("Hello World!");
  
  });
  
   $("#ta10").on("click",function(){
    $("#bf").before("Hello World!");
  
  });
  
    $("#ta11").on("click",function(){
    $("<span>Hello helln</span>").appendTo("#ppt");
  
  });
   $("#ta12").on("click",function(){
    $("#ety").empty();
  
  });
  
  
  
   $("#ta13").on("click",function(){
       var markerArr = [  
				{ title: "名称：上海火车站", point: "121.462056,31.25592", address: "上海市火车站", tel: "12306" },  
				{ title: "名称：世纪大道", point: "121.533435,31.23485", address: "上海市世界大道", tel: "18500000000" },  
				{ title: "名称：普陀区新村路423弄绿地商务广场1号楼409室", point: "121.433945,31.27221", address: "上海市普陀区新村路423弄绿地商务广场1号楼", tel: "18500000000" }
				
			]; 
			
			var i=0;
		markerArr.forEach(function(item,index,array){
		  i++;
		  item.point=i;
		
		});	
		console.log("item.point==="+markerArr[0].point);	
  
  });
  
   $("#ta15").on("click",function(){
       var orgArr = ["1","3","2","5","6"];
	   var orgid="5";
	   var result= orgArr.some(function(item,index,arrar){
		   console.log("item="+item);
		   return item==orgid;
		});
		console.log("result==="+result);	
  
  });
  
   $("#ta115").on("click",function(){
       var orgArr = ["1","3","2","5","6"];
	   var x=0;
	  orgArr.forEach(function(item,index,array){
	       x=10;
	  });
		console.log("result==="+x);	//10
  
  });
  
});
 //循环截取单个字符，并转换成拼音格式的,并放入数组中
 function subName(name){
     var zmArray=new Array();
     var nl=name.length;
	 if(nl>0){
	   for(var i=0;i<nl;i++){
	     var tempName=name.substr(i,1);
		  //console.log(i);
		  //console.log(codefans_net_CC2PY(tempName).toUpperCase());
		  var tempSingle=codefans_net_CC2PY(tempName).toUpperCase();
		  zmArray.push(tempSingle.substr(0,1));
		 // console.log(zmArray[0]);
	   }
	   return zmArray;
	 }
 } 
//循环截取单个字符，并转换成拼音格式的,并放入数组中
 function subName1(name){
     var zmArray="";
     var nl=name.length;
	 if(nl>0){
	   for(var i=0;i<nl;i++){
	     var tempName=name.substr(i,1);
		  //console.log(i);
		  //console.log(codefans_net_CC2PY(tempName).toUpperCase());
		  var tempSingle=codefans_net_CC2PY(tempName).toUpperCase();
		  zmArray+=tempSingle.substr(0,1);
		 // console.log(zmArray[0]);
	   }
	   return zmArray;
	 }
 } 
 
  //根据字母取出汉字
 function marry1(){
    var zmGroup1="LX";
	
	var  tempName1="刘雪轩".substr(0,zmGroup1.length);
	var endName="刘雪轩".substring(tempName1.length);
	
	console.log("tempName1======"+tempName1);
	console.log("endName======"+endName);
	
	var returnName=tempName1+endName;
	//console.log("returnName="+returnName);
	
	return returnName;
 }
 
 
  //输入全拼拼音时全拼拼音顺序匹配出汉字     liuxue  匹配 刘雪
 function marry2(){
    // var inputVal="LIUxue".toUpperCase();//输入的值
	//var inputVal="LIUXUEPING";//输入的值
	//var tempName="刘雪萍";
	
	var inputVal="default user".toUpperCase();
	var tempName="Default User".toUpperCase();
	var tempNameLength=tempName.length;
	console.log("inputVal=========="+inputVal);
	//console.log("tempNameLength=========="+tempNameLength);
	
	for(var i=0;i<tempNameLength;i++){
	  
	   var subSingleName=tempName.substr(0,i+1);
	   console.log("subSingleName=="+subSingleName);
	   //如果真实名字全是英文，不需要转成全拼，不然会出错
	   var tempsubSingleName=subSingleName;
	   
	   if(!checkIsZimu(tempName)){
	       tempsubSingleName=codefans_net_CC2PY(subSingleName).toUpperCase();
	   }
	   
	    console.log("tempsubSingleName=="+tempsubSingleName);
	   if(tempsubSingleName===inputVal){
	      console.log("oh    yes  you are smart");
		  var resultName=subSingleName;
		  break;
	   }
	}
	
	console.log(resultName);
	return resultName;
	
 }
 
 
 
 
 
 //根据字母取出汉字
 function marry1(){
    var zmGroup1="LX";
	
	var  tempName1="刘雪轩".substr(0,zmGroup1.length);
	var endName="刘雪轩".substring(tempName1.length);
	
	console.log("tempName1======"+tempName1);
	console.log("endName======"+endName);
	
	var returnName=tempName1+endName;
	//console.log("returnName="+returnName);
	
	return returnName;
 }
 
 
  //输入全拼拼音时全拼拼音顺序匹配出汉字     liuxue  匹配 刘雪
 function marry3(){
 
    /**
	  输入汉字全拼的情况下
	**/
     var inputVal="LIUxue".toUpperCase();//输入的值
	//var inputVal="LIUXUEPING";//输入的值
	var tempName="刘雪萍";
	
   /**
	  真实名字若是纯英文，输入英文的情况下
	**/
	//var inputVal="defa".toUpperCase();
	//var tempName="Default User".toUpperCase();
	var tempNameLength=tempName.length;
	
	//根据真实名字是英文还是中文判断操作方法，英文直接截取，中文需要根据单个汉字逐个循环后拼成的拼音全拼操作
	if(checkIsZimu(tempName)){
	    var rname=tempName.substring(0,inputVal.length);
		return rname;
	}
	
	for(var i=0;i<tempNameLength;i++){
	  
	   var subSingleName=tempName.substr(0,i+1);
	   //console.log("subSingleName=="+subSingleName);
	   //如果真实名字全是英文，不需要转成全拼，不然会出错
	   if(codefans_net_CC2PY(subSingleName).toUpperCase()===inputVal){
	      console.log("oh    yes  you are smart");
		  var resultName=subSingleName;
		  break;
	   }
	}
	
	console.log(resultName);
	return resultName;
	
 }
 
 function x3(){
    var a="刘雪萍";
	var b="刘雪";
	var c=a.substring(b.length);
	console.log(c);
 
 }
 //顺序匹配字符时用indexOf会出错，替代方法如下
 function x4(){
    var a="zcc";
	var b="cc";
	var c=a.substr(0,b.length);
	console.log("hhhhhhhhhhhhhhhhh=== "+c);
 }
 
 /**
	      正则 判断是否是字母
	 **/
	function checkIsZimu(str) {
		//如果值为空，通过校验
		if (str === " "||str === "") {
			return false;
		}
		var pattern = /^[a-zA-Z ]*$/gi;
		if (pattern.test(str)) {
			return true;
		} else {
			return false;
		}

	}
	
	//处理拼接html
	function handleEnglish(){
	  var tempval1="Default User";
	  var tempval2="Default User";
	  var li='<li onclick="hh(\''+tempval1+'\')">hello world</li>';
	  $("#hleh ul").append(li);
	}
	
	function hh(vl){
	  console.log("result==="+vl);
	};
</script>
</head>




<body>
<input type="button" id="ta1" value="测试栈"/></br>
<input type="button" id="ta2" value="测试队列"/></br>
<input type="button" id="ta3" value="普通排序"/></br>
<input type="button" id="ta4" value="重写数组排序campare"/></br>
<input type="button" data-filter value="对象数组排序"  onclick="ObjAry()"/><br />
<input type="button" data-filter value="重写对象数组排序，格式化值"  onclick="ObjAryTwo()"/><br />
<input type="button" id="ta5" value="汉字分解"/></br>

<input type="button" id="ta66" value="拼接测试"/></br>

test append():</br>
<p id="pp" style="color:pink;"><span>I would like to say:</span> </p>

<input type="button" id="ta6" value="append-内部插入"/></br>

test appendTo():</br>
<p id="ppt" style="color:pink;">I would like to say: </p>

<input type="button" id="ta11" value="appendTo-内部插入"/></br>

test after():</br>
<p id="af" style="color:pink;">I would like to say: </p>

</br>
<input type="button" id="ta9" value="after-外部插入"/></br>


test before():</br>
<p id="bf" style="color:pink;">I would like to say: </p>

</br>
<input type="button" id="ta10" value="befor-外部插入"/></br>


test empty():</br>
<p id="ety" style="color:pink;"><span>I would like to say:</span> </p>

</br>
<input type="button" id="ta12" value="empty-清空"/></br>
<input type="button" id="ta7" value="拼接测试"/></br>
<input type="button" id="ta8" value="截取"/></br>
<div id="hleh"><ul></ul></div>


</br>
<input type="button" id="ta13" value="befor-外部插入"/></br>

<div id="ttt"></div>


</br>
<input type="button" id="ta15" value="测试some函数"/></br>
<input type="button" id="ta115" value="测试for循环中的作用域"/></br>

<input type="button" id="ta116" value="测试for-in" onclick="testForIn()"/></br>

<script>
  function testForIn(){
  
    /*------------------用for-in循环数组-----------------------------*/
     var arrs=["hello","world","sir"];
	 
	 for(var i in arrs){//i是索引
	   console.log(i+"=="+arrs[i]);
	 }  
	 
	 
	 
	 /*------------------用for-in循环遍历对象-----------------------------*/
	 var obj={
	    "2016":"hello",
		"2015":"world"
	 }
	 
	 for(var i in obj){//i是对象的key
	    console.log(i+"="+obj[i]);
		
	 }
	 
	 
	 
	 
  }
  
  function getLastItem(){
    var array=[0,1,4,0,5];
	var lastItem=array[array.length-1];//获取最后一项
	console.log(array);
	var removeLast=array.pop();//数组的pop()方法用于移除数组的最后一项并返回被移除项的值
	
	console.log("取得数组的最后一项：array[array.length-1]="+lastItem);
	console.log("移除数组的最后一项：array.pop()="+removeLast);
	console.log(array);
	
	var removeFirst=array.shift();//shift()用于移除数组的第一项并返回移除项的值
	console.log("移除数组的第一项 array.shift():"+array.shift());
	console.log(array);//[0,4] 与调用valueOf()方法返回的结果一致，都是输出数组本身
	
	//array.valueOf()输出数组本身
	console.log(array.valueOf());//[1,4]    
	
	//alert()接收一个字符串作为参数，因此传入数组后，数组在后台会为每一项调用toString()方法返回最后拼成的字符串（默认用逗号分隔）
	alert(array);//1,4 
	console.log(array.valueOf()+"");//1,4  
	
	// array.join()方法返回指定字符拼成的数组项字符串
	console.log(array.join(",")+"\n"+typeof array.join(","));//1,4  string   
	
  }
  
  function ObjAry(){
     var array= [
             
            {
                "date": "201510", 
                "name": "c" 
            }, 
            {
                "date": "201511", 
                "name": "e" 
            }, 
            {
                "date": "201602", 
                "name": "a" 
            }, 
             
            {
                "date": "201601", 
                "name": "b"  
                
            }
        ];
	 
	 array.sort(campare3);
	 
	 console.log("按照number类型的日期排序：");
	 for(var i in array){
	     
	    console.log("name="+array[i].name+" date="+array[i].date)
	 }
	 
	 console.log("指定字段name排序：");
	 array.sort(createComparisonFunction("name"));
	  for(var i in array){
	    console.log("name="+array[i].name+" date="+array[i].date)
	 }
	 
	  console.log("指定字段name排序：");
	 array.sort(createComparisonFunction("name"));
	  for(var i in array){
	    console.log("name="+array[i].name+" date="+array[i].date)
	 }
	 
	 
	 
  }
  
  //在重写排序方法的同时格式化对象值
 function ObjAryTwo(){
    var array= [
             
            {
                "date": "2015-10", 
                "name": "c" 
            }, 
            {
                "date": "2015-11", 
                "name": "e" 
            }, 
            {
                "date": "2016-02", 
                "name": "a" 
            }, 
             
            {
                "date": "2016-01", 
                "name": "b"  
                
            }
        ];
		
		//重新排序排序-降序排序 v2-v1  升序排序v1-v2
	   //array.sort(campare4);
	   array.sort(function(v1,v2){
		    return Number(v2.date.replace(/-/,""))-Number(v1.date.replace(/-/,""));
		});
		
       for(var i in array){ 
	     
	    console.log("name="+array[i].name+" date="+array[i].date)
	 }
 }

function createComparisonFunction(propertyName){
   return function(obj1,obj2){
     var v1=obj1[propertyName];
	 var v2=obj2[propertyName];
	 if(v1<v2){
	     return -1;
	 }else if(v1>v2){
	     return 1;
	 }else{
	    return 0;
	 }
   }
}

function emptyArray(){
    var a=[1,2];
	var v1=a.toString();
	console.log(v1);//1,2
	console.log(typeof a);//object
	
	var b=[];
	var v2=b.toString();
	console.log(b);//[]
	console.log(v2);//空字符串哎
	 
	 
	 
}

function testConsole(){
  var people = "Alex";
  var years = 42;
  console.log("%s is %e years old.", "Alex", 22);
}


/*forEach()函数类似于for循环遍历数组*/ 
function testMap(){
    var ary=[3,5,2,1];
	
	/*对数组的每一项运行给定的函数，返回每次函数调用的结果组成的数组*/
	var mapResult=ary.map(function(item,index,arry){
	  
	  return item*2;
	});
	
	console.log(mapResult);
	
	/*对数组的每一项运行给定的函数，如果该函数对每一项都返回true，则返回true*/
	var flagEvery=ary.every(function(item,index,arry){
	    return item>2;
	});

	console.log(flagEvery);
	
	/*对数组的每一项运行给定的函数，如果该函数对任一项 返回true，则返回true*/
	var flagSome=ary.some(function(item,index,arry){
	   return item>3
	});
	
	console.log(flagSome);
	
	/*对数组的每一项运行给定的函数， 该函数返回true项组成的数组*/
	var filterArry=ary.filter(function(item,index,arry){
	   return item>2
	});
	
	console.log(filterArry);
	
}
/* 
jQuery.map()的作用等同于js数组自带的方法map()（只不过这个map是js用于处理数组的哎，jQuery.map()处理数组或对象都可以哒）
jQuery.map()将一个数组中的所有元素转换到另一个数组中。*/
function testJQueryMap(){

   /*处理数组，返回新的项组成的数组*/
   var ary=[3,5,2,1];
   var result=$.map(ary,function(item,index){
       return item*2;
   });
   console.log(result);//[6, 10, 4, 2]
   
   
   /*处理对象，返回新的项组成的数组*/
   var obj={
     name:"helln",
	 age:20
   }; 
  console.log("-----------------------------");
  
  /*item是对象的值，key是对象的键名*/
  var newObje= $.map(obj,function(item,key){
      return obj[key]=item+" world";
   });
   
   console.log( newObje);// ["helln world", "20 world"]
   
   
   console.log(typeof q);
   
   /*$.map()与js的数组的map方法都可以将处理完的结果组成一个新的数组*/
   var obja=[{name:"a",age:10},{name:"b",age:20},{name:"c",age:30}];
   
   var rt1=obja.map(function(item,index,ary){
       return item.name;
   });
   
   var rt2=$.map(obja,function(item,index){
      return item.name;
   });
   
   console.log(obja);
   console.log(rt1);//["a", "b", "c"]
   console.log(rt2);//["a", "b", "c"]
   
}

function testProperty(){
 
  
 var data=  [{"contractID":265,"isTrial":"1","planPositiveDate":"2016-09-02 00:00:00","personId"
:1675,"employeeName":"路飞","last_modify_date":"2016-08-23 14:06:23"},{"contractID":266,"isTrial":"0","planPositiveDate":"2016-09-02 00:00:00","personId"
:1676,"employeeName":"路跳","last_modify_date":"2016-08-23 14:06:23"},{"contractID":267,"isTrial":"1","planPositiveDate":"2016-09-02 00:00:00","personId"
:1677,"employeeName":"路企","last_modify_date":"2016-08-23 14:06:23"}

];

var personIdList=[];
var tipPerson=[];
 
$.each(data,function(index,obj){
   
	if(obj.isTrial=="1"){
	   personIdList.push(obj.personId);
	}else{
	   tipPerson.push(obj.employeeName);
	}
});

/*var yes=data.filter(function(item,index){
   return item.isTrial=="1";
});
*/
console.log(personIdList);
console.log(tipPerson);
  
 console.log(Number("11868,265"));
 
 var json={"contractIdList":["11868,265"],"personIdList":["1159,1675"],"positiveDate":"2016-08-10","memo":""};
 
 
 
		
}


/*字符串与数组的互相转换*/

function interreaction(){

 var temp="11868,265";
 
 var tempAry=temp.split(",");
 
 console.log(tempAry);//["11868", "265"]
 
  var newObje= $.map(tempAry,function(item,key){
      return Number(item);
   });
   
  console.log( newObje);
}

/*删除数组中的指定元素*/
function  removeElement (){
   var ary= [1159, 1676, 1693];
  
  var index=ary.indexOf(1676);//指定元素的位置
   
  ary.splice(index,1)
  
  console.log(ary);
}

function copyAry(){
   var ary= [1159, 1676, 1693];
   var newAry=ary;
   console.log("原始数组："+ary.join(","));//1159, 1676, 1693
   
   newAry.splice(1,1);//删除第二个位置的元素
   
   console.log("原始数组："+ary.join(","));//1159, 1693 数组是引用类型，即使赋值给了新的变量，新的变量还是会引用内存地址中存的那个数组，即ary
   
   console.log("变量数组："+newAry.join(","));//1159, 1693
   
   
   
   /*基于一个指定数组的所有项创建一个新的数组，可以保证操作数组时不破坏原始数组奥~3~*/
   
   //原始数组
   var  original= [1159, 1676, 1693];
   
   /*1、自己写的copy数组的方法*/
   var copy=original.join(",").split(",");
   copy.splice(1,1);
   
    console.log("原始数组："+original.join(","));      //1159, 1676, 1693
    console.log("变量数组："+copy.join(","));//1159, 1693
	
	console.log("------------------concat()-------------------------------");
	
	//2、使用数组自带的concat()方法，不传入任何参数的时候会复制一个数组的副本，传入参数时会把参数传入到副本数组的末尾，成为一个新数组*/
	var concatArray=original.concat(); 
	
	//删除新数组的第一个元素
	var temp=concatArray.splice(0,1);
	
	console.log("原始数组："+original);//1159,1676,1693
	console.log("变量数组:"+concatArray);//1676,1693
	
	console.log("------------------slice()-------------------------------");
	
	//3、slice()能基于当前数组的一个或多个项创建一个新数组，通过传入下标来创建新数组，开始和结束，只传入一个参数代表slice()返回从指定位置开始到当前数组末尾的所有项*/
	var sliceArray=original.slice(0); //从数组开始到数组结尾，完整的复制了原始数组
	
	//删除新数组的第一个元素
	var temp=sliceArray.splice(0,1);
	
	console.log("原始数组："+original);//1159,1676,1693
	console.log("变量数组:"+sliceArray);//1676,1693
   
}
  
</script>

<input type="button" data-filter value="取得数组的最后一项"  onclick="getLastItem()"/><br />
 
<input type="button" data-filter value="空数组调用toString()方法会返回空字符串"  onclick="emptyArray()"/><br />
 
<input type="button" data-filter value="console.log();"  onclick="testConsole()"/><br />
 
<input type="button" data-filter value="迭代函数测试"  onclick="testMap()"/><br />

<input type="button" data-filter value="jquery的$.map()函数处理数组或对象，返回新数组"  onclick="testJQueryMap()"/><br />

<input type="button" data-filter value="$.each筛选测试"  onclick="testProperty()"/><br />

<input type="button" data-filter value="数组和字符串的互相转换"  onclick="interreaction()"/><br />

<input type="button" data-filter value="删除数组中的指定元素"  onclick="removeElement()"/><br />

<input type="button" data-filter value="基于一个数组拷贝出一个新的数组"  onclick="copyAry()"/><br />
</body>
</html>
