<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>无标题文档</title>

</head>

<body>
<input type="text" name="integer" value="" id="dd"  onblur="test(this)" /><br>

<label>只能输入数字</label>
<input onkeyup="value=value.replace(/[^1234567890.]+/g,'')"> <br>
  <!-- <input onkeyup="value=value.replace(/^\d+(\.\d{2})?$/g,'')"> <br>  -->
<label>只能输入中文</label>
<input onkeyup="value=value.replace(/[ -~]/g,'')"><br>



<label>验证金额(复制的时候不行哎...........)</label>
<input onkeyup="numberCheck(event)"> <br>

<script type="text/javascript" src="jquery-1.8.2.min.js"></script>
<script>

//验证数字（只能是数字,可以有小数）
  function test(which){
      var str=which.value.split(".");
	   alert(str.length);
	   if(str.length>3||str.length==3){
	      alert("格式不正确");
		  which.value="";//清空内容
		  return false;
	   }
	   for(var i=0;i<str.length;i++){
	       if(/^\d+$/.test(str[i])==false){
	          alert(str[i]+"只能填数字！");
	          which.value="";//清空内容
			  return false;
	       }
	   }
  }

  function numberCheck(e){
  	  var balanceInput= $(e.currentTarget);
        var balanceVal=balanceInput.val();
         
        balanceInput.val(balanceVal.replace(/[^1234567890.]+/g,''));

        if (balanceVal.indexOf(".")) {
          var temp=balanceVal.split(".");
          if (temp.length>2) {
            var hval=balanceVal.substr(0,Number(balanceVal.indexOf("."))+1);
            balanceInput.val(hval+'00');
            
          }if (balanceVal.split(".").length==2) {
            var temp1=temp[1].replace(/[^1234567890.]+/g,'');
            balanceInput.val(temp[0]+"."+(temp1.substr(0,2)));
          }

        }
  }
</script>
</body>
</html>
